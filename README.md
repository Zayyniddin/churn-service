# –ü—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç—Ç–æ–∫–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤ –±–∞–Ω–∫–∞ (Churn Prediction)

REST API-—Å–µ—Ä–≤–∏—Å –Ω–∞ FastAPI –¥–ª—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ —É—Ö–æ–¥–∞ –∫–ª–∏–µ–Ω—Ç–∞ –∏–∑ –±–∞–Ω–∫–∞.  
–ú–æ–¥–µ–ª—å –æ–±—É—á–µ–Ω–∞ –Ω–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ –±–∞–Ω–∫–æ–≤—Å–∫–æ–≥–æ –¥–∞—Ç–∞—Å–µ—Ç–∞ –∏ —É–ø–∞–∫–æ–≤–∞–Ω–∞ –≤ Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä.

---

## üéØ –¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞

–ü–æ—Å—Ç—Ä–æ–∏—Ç—å –º–æ–¥–µ–ª—å –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä–∞—è:
- –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON,
- –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –æ—Ç—Ç–æ–∫–∞ (float),
- –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –±–∏–Ω–∞—Ä–Ω—ã–π –ø—Ä–æ–≥–Ω–æ–∑ (0 ‚Äî –æ—Å—Ç–∞–Ω–µ—Ç—Å—è, 1 ‚Äî —É–π–¥—ë—Ç).

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
churn_prediction_project/
‚îÇ
‚îú‚îÄ‚îÄ notebooks/
‚îÇ   ‚îî‚îÄ‚îÄ churn_modeling.ipynb
‚îÇ
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ main.py
‚îÇ   ‚îú‚îÄ‚îÄ model_loader.py
‚îÇ   ‚îú‚îÄ‚îÄ schemas.py
‚îÇ
‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îú‚îÄ‚îÄ churn_xgb_model.pkl
‚îÇ  
‚îÇ   
‚îÇ
‚îú‚îÄ‚îÄ Dockerfile
‚îú‚îÄ‚îÄ requirements.txt
‚îî‚îÄ‚îÄ README.md
```

---

## üîé –ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö –∏ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ

–°–¥–µ–ª–∞–Ω–æ:
- —É–¥–∞–ª–µ–Ω—ã –Ω–µ–∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ (ID, ID_–∫–ª–∏–µ–Ω—Ç–∞, —Ñ–∞–º–∏–ª–∏—è),
- –∑–∞–ø–æ–ª–Ω–µ–Ω—ã –ø—Ä–æ–ø—É—Å–∫–∏ –≤ *–±–∞–ª–∞–Ω—Å_–¥–µ–ø–æ–∑–∏—Ç–∞*,
- —Å–æ–∑–¥–∞–Ω –±–∏–Ω–∞—Ä–Ω—ã–π –ø—Ä–∏–∑–Ω–∞–∫ *–µ—Å—Ç—å_–±–∞–ª–∞–Ω—Å*,
- –ø—Ä–æ–≤–µ–¥—ë–Ω EDA (—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è, boxplots, barplots),
- –∫–∞—Ç–µ–≥–æ—Ä–∏–∞–ª—å–Ω—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω—ã OneHotEncoder,
- —á–∏—Å–ª–æ–≤—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω—ã StandardScaler,
- –æ–±—É—á–µ–Ω—ã Logistic Regression, XGBoost –∏ CatBoost,
- –≤—ã–ø–æ–ª–Ω–µ–Ω –ø–æ–¥–±–æ—Ä –≥–∏–ø–µ—Ä–ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ XGBoost,
- –ø–æ–ª—É—á–µ–Ω–∞ —Ñ–∏–Ω–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å.

### –õ—É—á—à–∏–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –º–æ–¥–µ–ª–∏ XGBoost:
- Accuracy: **0.8627**
- Precision: **0.6193**
- Recall: **0.8480**
- F1-score: **0.7159**
- ROC-AUC: **0.9342**

---

## üöÄ –ó–∞–ø—É—Å–∫ API –ª–æ–∫–∞–ª—å–Ω–æ

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:

```
pip install -r requirements.txt
```

### –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞:

```
uvicorn app.main:app --reload
```

Swagger UI:

```
http://localhost:8000/docs
```

---

## üê≥ –ó–∞–ø—É—Å–∫ –≤ Docker

### 1. –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞:

```
docker build -t churn-api .
```

### 2. –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞:

```
docker run -p 8080:8000 churn-api
```

API –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É:

```
http://localhost:8080/docs
```

---

## üì® –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ /predict

```json
{
  "–∫—Ä–µ–¥–∏—Ç–Ω—ã–π_—Ä–µ–π—Ç–∏–Ω–≥": 650,
  "–≤–æ–∑—Ä–∞—Å—Ç": 35,
  "—Å—Ç–∞–∂_–≤_–±–∞–Ω–∫–µ": 5,
  "–±–∞–ª–∞–Ω—Å_–¥–µ–ø–æ–∑–∏—Ç–∞": 50000,
  "—á–∏—Å–ª–æ_–ø—Ä–æ–¥—É–∫—Ç–æ–≤": 2,
  "–µ—Å—Ç—å_–∫—Ä–µ–¥–∏—Ç–∫–∞": 1,
  "–∞–∫—Ç–∏–≤–Ω—ã–π_–∫–ª–∏–µ–Ω—Ç": 1,
  "–æ—Ü–µ–Ω–æ—á–Ω–∞—è_–∑–∞—Ä–ø–ª–∞—Ç–∞": 120000,
  "–µ—Å—Ç—å_–±–∞–ª–∞–Ω—Å": 1,
  "–≥–æ—Ä–æ–¥": "–ê–ª–º–∞—Ç—ã",
  "–ø–æ–ª": "Male"
}
```

–û—Ç–≤–µ—Ç:

```json
{
  "predicted_class": 0,
  "churn_probability": 0.03
}
```

---

## ‚úî –ò—Ç–æ–≥

–ü—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≤–µ—Ä—à—ë–Ω:

- –ø—Ä–æ–≤–µ–¥—ë–Ω –¥–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö,
- –æ–±—É—á–µ–Ω—ã –∏ —Å—Ä–∞–≤–Ω–µ–Ω—ã –º–æ–¥–µ–ª–∏,
- –ø–æ–¥–æ–±—Ä–∞–Ω—ã –≥–∏–ø–µ—Ä–ø–∞—Ä–∞–º–µ—Ç—Ä—ã,
- —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω FastAPI-—Å–µ—Ä–≤–∏—Å,
- –ø—Ä–æ–µ–∫—Ç —É–ø–∞–∫–æ–≤–∞–Ω –≤ Docker,
- –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω –∫ –¥–µ–ø–ª–æ—é –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.

–§–∏–Ω–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å (XGBoost) –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –≤—ã—Å–æ–∫—É—é —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –∏ —Ç–æ—á–Ω–æ—Å—Ç—å –∏ –≥–æ—Ç–æ–≤–∞ –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏.
